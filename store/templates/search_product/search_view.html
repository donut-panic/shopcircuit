{% extends "base.html" %}
{% load static %}

{% block content %}
    <div>
        <div class="grey-container">
            {% if object_list|length > 0 %}
                <div class="container">
                {% if object_list|length > 1 %}
                    <h3 class="mb-5">Found {{ object_list|length }} products</h3>
                {% else %}
                    <h3 class="mb-5">Found {{ object_list|length }} product</h3>
                {% endif %}
                {% for product in object_list %}
                <div class="search__item">
                    <div class="search__photo">
                        <a href="{% url 'store:product_view' product.id %}"><img src="{{ product.image.url }}" class="search__image"></a>
                    </div>
                    <div class="search__info">
                        <div class="search__name"><a href="{% url 'store:product_view' product.id %}" class="search__name-link">{{ product.name }}</a></div>
                        <div class="search__price">${{ product.price }}</div>
                        <div class="search__details">Lorem</div>
                        <div class="search__description">{{ product.description|truncatechars:255 }}</div>
                        <div class="search__buttons">
                            <a href="{% url 'store:add_product_to_cart_view' product.id %}" class="btn btn-primary me-2 add-to-cart-button" data-cart-id="{{ product.id }}"><i class="bi bi-cart-plus-fill"></i> Add to cart</a>
                        </div>
                    </div>
                    <div class="search__add-to-wishlist"><a href="#" class="search__add-to-wishlist-button"><i class="bi bi-heart-fill"></i></a></div>
                </div>
                {% endfor %}
            </div>
            {% else %}
                <div class="container"> No results :(</div>
            {% endif %}
        </div>
    </div>
{%endblock %}